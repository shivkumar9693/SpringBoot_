<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">

<section class="register-section d-flex align-items-center justify-content-center">
  <div class="card register-card shadow-lg p-4">
    <h2 class="text-center mb-4 fw-bold">Create Your Account</h2>

    <!-- General messages (success / error) -->
    <div th:if="${message}" th:class="'alert ' + ${alertType}" role="alert">
      <p th:text="${message}"></p>
    </div>

    <form   th:action="@{/register}" th:object="${user}" method="post">

      <!-- Username -->
      <div class="mb-3">
        <label for="username" class="form-label">Full Name</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
          <input th:field="*{username}" type="text"
                 class="form-control"
                 th:classappend="${#fields.hasErrors('username')} ? 'is-invalid' : ''"
                 id="username"
                 placeholder="Enter your full name">
          <div class="invalid-feedback" th:each="err: ${#fields.errors('username')}" th:text="${err}"></div>
        </div>
      </div>

      <!-- Email -->
      <div class="mb-3">
        <label for="email" class="form-label">Email Address</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-envelope-fill"></i></span>
          <input th:field="*{email}" type="email"
                 class="form-control"
                 th:classappend="${#fields.hasErrors('email')} ? 'is-invalid' : ''"
                 id="email" placeholder="Enter your email">
          <div class="invalid-feedback" th:each="err: ${#fields.errors('email')}" th:text="${err}"></div>
        </div>
      </div>

      <!-- Password -->
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
          <input th:field="*{password}" type="password"
                 class="form-control"
                 th:classappend="${#fields.hasErrors('password')} ? 'is-invalid' : ''"
                 id="password" placeholder="Enter password">
          <div class="invalid-feedback" th:each="err: ${#fields.errors('password')}" th:text="${err}"></div>
        </div>
      </div>

      <!-- About -->
      <div class="mb-3">
        <label for="about" class="form-label">About You</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-pencil-fill"></i></span>
          <textarea th:field="*{about}" class="form-control"
                    th:classappend="${#fields.hasErrors('about')} ? 'is-invalid' : ''"
                    id="about" rows="3" placeholder="Write something about yourself"></textarea>
          <div class="invalid-feedback" th:each="err: ${#fields.errors('about')}" th:text="${err}"></div>
        </div>
      </div>

      <!-- Terms & Conditions -->
      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="terms" name="term"
               th:classappend="${termError} ? 'is-invalid' : ''"> 
        <label class="form-check-label" for="terms">
          I agree to the <a href="/#" target="_blank">Terms and Conditions</a>
        </label>
        <div class="text-danger mt-1" th:if="${termError}" th:text="${termError}"></div>
      </div>

      <!-- Buttons -->
     <div class="d-flex justify-content-between">
    <a href="/signin" class="btn btn-primary btn-lg flex-fill me-2">Login</a>
    <button type="submit" class="btn btn-register flex-fill ms-2">Sign Up <i class="bi bi-box-arrow-in-right"></i></button>
</div>


    </form>
  </div>
</section>
